<!DOCTYPE html>
<html xmlns="https://www.w3.org/1999/xhtml">

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<title>Gentrification in Malaysia</title>
	<meta name="author" content="Alvaro Trigo Lopez" />
	<meta name="description" content="pagePiling.js plugin by Alvaro Trigo." />
	<meta name="keywords"  content="pile,piling,piling.js,stack,pages,scrolling,stacking,touch,fullpile,scroll,plugin,jquery" />
	<meta name="Resource-type" content="Document" />
	
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
	<script src="https://d3js.org/d3.v7.min.js"></script>
	<script src="https://code.highcharts.com/maps/highmaps.js"></script>
    <script src="https://code.highcharts.com/maps/modules/exporting.js"></script>
    <script src="https://code.highcharts.com/mapdata/countries/my/my-all.js"></script>

	<script src="https://code.highcharts.com/modules/accessibility.js"></script>

	<link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Lato:300,400,700" />
	<link rel="stylesheet" type="text/css" href="../jquery.pagepiling.css" />
	<link rel="stylesheet" type="text/css" href="examples.css" />
	<link rel="stylesheet" type="text/css" href="style.css" />
    
	

	<!-- <script type="text/javascript" src="examples/scripts/script4.js"></script> -->
	<script type="text/javascript">
		$(function () {
    var population_data = {};
    var population_keys = [];
    var population_years = [];
    
    var gdp_keys = []; // Define GDP-related variables
    var gdp_years = [];
    var gdp_data = {};

    var gdpPopulation_data = {};
    var gdpPopulation_years = [];

    var gdpPopulation_keys = [];

    Promise.all([
        d3.csv("https://raw.githubusercontent.com/WeendyLRY/Data_For_DV_Lab/main/population_state_final_with_key.csv"),
        d3.csv("https://raw.githubusercontent.com/WeendyLRY/Data_For_DV_Lab/main/gdp_state_modified.csv"),
        d3.csv("https://raw.githubusercontent.com/WeendyLRY/Data_For_DV_Lab/main/gdp_vs_population.csv"),
        $.getJSON("https://code.highcharts.com/mapdata/countries/my/my-all.geo.json")
    ]).then(function ([populationData, growthData, gdpPopulationData, mapData]) {

        // Extract data from population CSV
        populationData.forEach(function (row) {
            var population_state = row['hc-key'];
            var population_year = row['year'];
            var population_value = parseFloat(row['year_population']);

            if (!population_keys.includes(population_state)) {
                population_keys.push(population_state);
            }

            if (!population_years.includes(population_year)) {
                population_years.push(population_year);
            }

            if (!population_data[population_year]) {
                population_data[population_year] = [];
            }

            population_data[population_year].push({
                'hc-key': population_state.toLowerCase(),
                value: population_value
            });
        });

        // Extract data from GDP CSV (assuming this structure based on population extraction)
        growthData.forEach(function (row) {
            var gdp_state = row['hc-key'];
            var gdp_year = row['year'];
            var gdp_value = parseFloat(row['year_gdp']);

            if (!gdp_keys.includes(gdp_state)) {
                gdp_keys.push(gdp_state);
            }

            if (!gdp_years.includes(gdp_year)) {
                gdp_years.push(gdp_year);
            }

            if (!gdp_data[gdp_year]) {
                gdp_data[gdp_year] = [];
            }

            gdp_data[gdp_year].push({
                'hc-key': gdp_state.toLowerCase(),
                value: gdp_value
            });
        });

         // Extract data from GDP vs Population CSV
         gdpPopulationData.forEach(function (row) {
            var state = row['state'];
            var year = row['year'];
            var gdp_population_key = row['hc-key'];
            var population_value = parseFloat(row['year_population']);
            var gdp_value = parseFloat(row['year_gdp']);

            if (!gdpPopulation_keys.includes(gdp_population_key)) {
                gdpPopulation_keys.push(gdp_population_key);
            }

            if (!gdpPopulation_years.includes(year)) {
                gdpPopulation_years.push(year);
            }

            if (!gdpPopulation_data[year]) {
                gdpPopulation_data[year] = [];
            }

            gdpPopulation_data[year].push({
                'hc-key': gdp_population_key.toLowerCase(),
                state: state,
                Population: population_value,
                GDP: gdp_value
            });
        });

        // Sort years in ascending order
        population_years.sort();
        gdp_years.sort();
        // Sort years in ascending order
        gdpPopulation_years.sort();

        // Load the map data
        $.getJSON("https://code.highcharts.com/mapdata/countries/my/my-all.geo.json", function (mapData) {
            
            // Initiate the chart
            var population_chart = Highcharts.mapChart('containerPopulation', {
                title: {
                    text: 'Population by state'
                },
                subtitle: {
                    text: 'Source map: <a href="https://code.highcharts.com/mapdata/countries/my/my-all.js">countries/my/my-all</a>'
                },
                mapNavigation: {
                    enabled: true,
                    buttonOptions: {
                        verticalAlign: 'bottom'
                    }
                },
                colorAxis: {
                    min: 0
                },
                series: [{
                    data: population_data[population_years[0]],
                    mapData: mapData,
                    joinBy: 'hc-key',
                    name: 'Population', // Update series name to 'Population'
                    states: {
                        hover: {
                            color: '#a4edba'
                        }
                    },
                    dataLabels: {
                        enabled: true,
                        format: '{point.name}'
                    }
                }, {
                    name: 'Separators',
                    type: 'mapline',
                    data: Highcharts.geojson(mapData, 'mapline'),
                    color: 'silver',
                    showInLegend: false,
                    enableMouseTracking: false
                }]
            });

            // Initiate the chart
            var gdp_chart = Highcharts.mapChart('containerGDP', {
                title: {
                    text: 'Growth by state'
                },
                subtitle: {
                    text: 'Source map: <a href="https://code.highcharts.com/mapdata/countries/my/my-all.js">countries/my/my-all</a>'
                },
                mapNavigation: {
                    enabled: true,
                    buttonOptions: {
                        verticalAlign: 'bottom'
                    }
                },
                colorAxis: {
                    min: 0
                },
                series: [{
                    data: gdp_data[gdp_years[0]],
                    mapData: mapData,
                    joinBy: 'hc-key',
                    name: 'Growth', // Update series name to 'Population'
                    states: {
                        hover: {
                            color: '#a4edba'
                        }
                    },
                    dataLabels: {
                        enabled: true,
                        format: '{point.name}'
                    }
                }, {
                    name: 'Separators',
                    type: 'mapline',
                    data: Highcharts.geojson(mapData, 'mapline'),
                    color: 'silver',
                    showInLegend: false,
                    enableMouseTracking: false
                }]
            });



            
            

            


            $('#population_slider').on('input change', function (e) {
                var population_selectedYear = e.target.value;
                console.log("Slider Value:", population_selectedYear);

                // Update the slider population_selectedYear
                $('#populationyear').text(population_selectedYear);

                if (population_data[population_selectedYear]) {
                    console.log("Data for the selected year exists.");

                    var population_newData = population_keys.map(function (population_key) {
                        return population_data[population_selectedYear].find(function (point) {
                            return point['hc-key'] === population_key.toLowerCase();
                        }) || { 'hc-key': population_key.toLowerCase(), value: 0 };
                    });

                    console.log("New Data:", population_newData);

                    // Update the map data and redraw the chart
                    population_chart.series[0].setData(population_newData, function () {
                        // The callback function is called after the setData operation is complete
                        // Update map data and redraw
                        population_chart.update({
                            series: [{
                                data: population_newData,
                                mapData: mapData
                            }]
                        });
                    });
                } else {
                    console.log("Data for the selected year is not available.");
                }
            });

            $('#gdp_slider').on('input change', function (e) {
                var gdp_selectedYear = e.target.value;
                console.log("Slider Value:", gdp_selectedYear);

                // Update the slider population_selectedYear
                $('#gdpyear').text(gdp_selectedYear);

                if (gdp_data[gdp_selectedYear]) {
                    console.log("Data for the selected year exists.");

                    var gdp_newData = gdp_keys.map(function (gdp_key) {
                        return gdp_data[gdp_selectedYear].find(function (point) {
                            return point['hc-key'] === gdp_key.toLowerCase();
                        }) || { 'hc-key': gdp_key.toLowerCase(), value: 0 };
                    });

                    console.log("New Data:", gdp_newData);

                    // Update the map data and redraw the chart
                    gdp_chart.series[0].setData(gdp_newData, function () {
                        // The callback function is called after the setData operation is complete
                        // Update map data and redraw
                        gdp_chart.update({
                            series: [{
                                data: gdp_newData,
                                mapData: mapData
                            }]
                        });
                    });
                } else {
                    console.log("Data for the selected year is not available.");
                }
            });

            

        });
    });
});

	</script>
	<script type="text/javascript" >
		$(document).ready(function () {
    var selectedYear = 2020;
    var csvFilePath = 'https://raw.githubusercontent.com/WeendyLRY/Data_For_DV_Lab/main/gdp_vs_population.csv'; 
  
    // Function to update the bar chart based on the selected year
    function updateBarChart(year, data) {
        var filteredData = data.filter(function (d) {
            return d.year === year;
        });
  
        var categories = filteredData.map(function (d) {
            return d.state;
        });
  
        var populationData = filteredData.map(function (d) {
            return d.year_population;
        });
  
        var gdpData = filteredData.map(function (d) {
            return d.year_gdp;
        });
  
        Highcharts.chart('barchartpopulationvsgdp', {
            chart: {
                type: 'column'
            },
            title: {
                text: 'Population vs GDP'
            },
            xAxis: {
                categories: categories,
                title: {
                    text: 'State'
                }
            },
            yAxis: [{
                title: {
                    text: 'Population'
                }
            }, {
                title: {
                    text: 'GDP'
                },
                opposite: true
            }],
            series: [{
                name: 'Population',
                data: populationData
            }, {
                name: 'GDP',
                data: gdpData,
                yAxis: 1
            }]
        });
  
        $('#barchartpopulationvsgdpyear').text(year);
    }
  
    // Load data from CSV
    d3.csv(csvFilePath).then(function (data) {
        // Parse CSV data
        data.forEach(function (d) {
            d.year = +d.year;
            d.year_population = +d.year_population;
            d.year_gdp = +d.year_gdp;
        });
  
        // Initial update
        updateBarChart(selectedYear, data);
  
       // Handle slider change event
  $('#gdppopulation_slider').on('input', function () {
    var newYear = +$(this).val();
    console.log('Selected Year:', newYear); // Add this line for debugging
    updateBarChart(newYear, data);
  });
  
    }).catch(function (error) {
        console.error('Error loading CSV file:', error);
    });
  });
  
	</script>
	<script type="text/javascript">
		    // Load data from CSV file
			d3.csv("https://raw.githubusercontent.com/WeendyLRY/Data_For_DV_Lab/main/final_cpi_gdp_state.csv").then(function(data) {
       // Process the data
       const processedData = d3.stack().keys(["food_beverage", "housing_utilities"])(data);

       // Set up dimensions for the chart
       const margin = { top: 20, right: 300, bottom: 60, left: 100 };
       const chartWidth = 900 - margin.left - margin.right;
       const chartHeight = 400 - margin.top - margin.bottom;

       // Create SVG container
       const svg = d3.select("#section-6-stacked-chart")
           .append("svg")
           .attr("width", chartWidth + margin.left + margin.right)
           .attr("height", chartHeight + margin.top + margin.bottom)
           .append("g")
           .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

       // Set up scales
       const xScale = d3.scaleBand()
           .domain(data.map(d => d.state))
           .range([0, chartWidth])
           .padding(0.1);

       const yScale = d3.scaleLinear()
           .domain([0, d3.max(processedData[1], d => d[1])])
           .range([chartHeight, 0]);

       // Create bars
       svg.selectAll(".bar")
           .data(processedData)
           .enter().append("g")
           .attr("fill", (d, i) => i === 0 ? "#66c2a5" : "#fc8d62")
           .selectAll("rect")
           .data(d => d)
           .enter().append("rect")
           .attr("x", (d, i) => xScale(data[i].state))
           .attr("y", d => yScale(d[1]))
           .attr("height", d => yScale(d[0]) - yScale(d[1]))
           .attr("width", xScale.bandwidth());

       // Add axes
       svg.append("g")
           .attr("transform", "translate(0," + chartHeight + ")")
           .call(d3.axisBottom(xScale))
           .selectAll("text")
           .style("text-anchor", "end")
           .attr("transform", "rotate(-45)");

           svg.append("g")
           .call(d3.axisLeft(yScale))
           .append("text")
           .attr("transform", "rotate(-90)")
           .attr("y", 50)  // Adjust the value to move the label up or down
           .attr("dy", "1em")
           .attr("text-anchor", "end")
           .text("CPI Values");
       

       // Add legend
       const legend = svg.append("g")
           .attr("transform", "translate(" + (chartWidth + 10) + "," + 10 + ")");

       const legendColors = ["#66c2a5", "#fc8d62"];
       const legendLabels = ["Food and Beverage", "Housing Utilities"];

       legend.selectAll("rect")
           .data(legendColors)
           .enter().append("rect")
           .attr("y", (d, i) => i * 20)
           .attr("width", 18)
           .attr("height", 18)
           .attr("fill", d => d);

       legend.selectAll("text")
           .data(legendLabels)
           .enter().append("text")
           .attr("y", (d, i) => i * 20 + 12)
           .attr("x", 25)
           .text(d => d);
   
  });

	</script>
	<script type="text/javascript">
		 // Load data from CSV
 d3.csv("https://raw.githubusercontent.com/WeendyLRY/Data_For_DV_Lab/main/final_cpi_gdp_state.csv").then(function(data) {
    // Function to update the line chart based on the selected state
    function updateLineChart() {
        // Get selected state from the dropdown
        const selectedState = document.getElementById("stateSelector").value;

        // Filter data for the selected state
        const filteredData = data.filter(d => d.state === selectedState);

        // Update the chart with filtered data
        updateChart(filteredData);
    }

    // Initial chart setup
    updateLineChart();

    // Function to update the chart based on the provided data
    function updateChart(data) {
        // Extract unique years
        const years = [...new Set(data.map(d => d.year))];

        // Set up dimensions and margins
        const margin = { top: 20, right: 190, bottom: 30, left: 50 };
        const width = 600 - margin.left - margin.right;
        const height = 400 - margin.top - margin.bottom;

        // Create SVG container
        const svg = d3.select("#section-6-line-chart")
            .html("")  // Clear previous content
            .append("svg")
            .attr("width", width + margin.left + margin.right)
            .attr("height", height + margin.top + margin.bottom)
            .append("g")
            .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

        // Create scales
        const xScale = d3.scaleBand()
            .domain(years)
            .range([0, width])
            .padding(0.1);

        const yScale = d3.scaleLinear()
            .domain([0, d3.max(data, d => Math.max(+d.gdp, +d.food_beverage, +d.housing_utilities))])
            .range([height, 0]);

        // Create line functions
        const gdpLine = d3.line()
            .x(d => xScale(d.year) + xScale.bandwidth() / 2)
            .y(d => yScale(+d.gdp));

        const foodLine = d3.line()
            .x(d => xScale(d.year) + xScale.bandwidth() / 2)
            .y(d => yScale(+d.food_beverage));

        const housingLine = d3.line()
            .x(d => xScale(d.year) + xScale.bandwidth() / 2)
            .y(d => yScale(+d.housing_utilities));

        // Draw lines
        svg.append("path")
            .data([data])
            .attr("d", gdpLine)
            .attr("fill", "none")
            .attr("stroke", "blue")
            .attr("stroke-width", 2);

        svg.append("path")
            .data([data])
            .attr("d", foodLine)
            .attr("fill", "none")
            .attr("stroke", "green")
            .attr("stroke-width", 2);

        svg.append("path")
            .data([data])
            .attr("d", housingLine)
            .attr("fill", "none")
            .attr("stroke", "red")
            .attr("stroke-width", 2);

        // Add axes
        svg.append("g")
            .attr("transform", "translate(0," + height + ")")
            .call(d3.axisBottom(xScale));

        svg.append("g")
            .call(d3.axisLeft(yScale));

        // Add labels
        svg.append("text")
            .attr("text-anchor", "end")
            .attr("x", width)
            .attr("y", height + margin.top + 20)
            .text("Year");

        svg.append("text")
            .attr("text-anchor", "end")
            .attr("transform", "rotate(-90)")
            .attr("y", -margin.left + 20)
            .attr("x", -margin.top)
            .text("Values");

        // Add legend
        svg.append("text")
            .attr("x", width - 30)
            .attr("y", 10)
            .text("GDP")
            .attr("fill", "blue");

        svg.append("text")
            .attr("x", width - 30)
            .attr("y", 30)
            .text("Food & Beverage")
            .attr("fill", "green");

        svg.append("text")
            .attr("x", width - 30)
            .attr("y", 50)
            .text("Housing Utilities")
            .attr("fill", "red");
    }

    // Expose the updateLineChart function to the global scope
    window.updateLineChart = updateLineChart;
});
	</script>
	<script type="text/javascript">
		    // Load data from CSV file
			d3.csv("https://raw.githubusercontent.com/WeendyLRY/Data_For_DV_Lab/main/cpi_population_dataset.csv").then(function(data) {
       // Process the data
       const processedData = d3.stack().keys(["food_beverage", "housing_utilities"])(data);

       // Set up dimensions for the chart
       const margin = { top: 20, right: 300, bottom: 60, left: 100 };
       const chartWidth = 900 - margin.left - margin.right;
       const chartHeight = 400 - margin.top - margin.bottom;

       // Create SVG container
       const svg = d3.select("#section-7-stacked-chart")
           .append("svg")
           .attr("width", chartWidth + margin.left + margin.right)
           .attr("height", chartHeight + margin.top + margin.bottom)
           .append("g")
           .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

       // Set up scales
       const xScale = d3.scaleBand()
           .domain(data.map(d => d.state))
           .range([0, chartWidth])
           .padding(0.1);

       const yScale = d3.scaleLinear()
           .domain([0, d3.max(processedData[1], d => d[1])])
           .range([chartHeight, 0]);

       // Create bars
       svg.selectAll(".bar")
           .data(processedData)
           .enter().append("g")
           .attr("fill", (d, i) => i === 0 ? "#66c2a5" : "#fc8d62")
           .selectAll("rect")
           .data(d => d)
           .enter().append("rect")
           .attr("x", (d, i) => xScale(data[i].state))
           .attr("y", d => yScale(d[1]))
           .attr("height", d => yScale(d[0]) - yScale(d[1]))
           .attr("width", xScale.bandwidth());

       // Add axes
       svg.append("g")
           .attr("transform", "translate(0," + chartHeight + ")")
           .call(d3.axisBottom(xScale))
           .selectAll("text")
           .style("text-anchor", "end")
           .attr("transform", "rotate(-45)");

           svg.append("g")
           .call(d3.axisLeft(yScale))
           .append("text")
           .attr("transform", "rotate(-90)")
           .attr("y", 50)  // Adjust the value to move the label up or down
           .attr("dy", "1em")
           .attr("text-anchor", "end")
           .text("CPI Values");
       

       // Add legend
       const legend = svg.append("g")
           .attr("transform", "translate(" + (chartWidth + 10) + "," + 10 + ")");

       const legendColors = ["#66c2a5", "#fc8d62"];
       const legendLabels = ["Food and Beverage", "Housing Utilities"];

       legend.selectAll("rect")
           .data(legendColors)
           .enter().append("rect")
           .attr("y", (d, i) => i * 20)
           .attr("width", 18)
           .attr("height", 18)
           .attr("fill", d => d);

       legend.selectAll("text")
           .data(legendLabels)
           .enter().append("text")
           .attr("y", (d, i) => i * 20 + 12)
           .attr("x", 25)
           .text(d => d);
   
  });

	</script>
	<script type="text/javascript">
		 // Load data from CSV
 d3.csv("https://raw.githubusercontent.com/WeendyLRY/Data_For_DV_Lab/main/cpi_population_dataset.csv").then(function(data) {
    // Function to update the line chart based on the selected state
    function updateLineChart() {
        // Get selected state from the dropdown
        const selectedState = document.getElementById("stateSelectorPopulation").value;

        // Filter data for the selected state
        const filteredData = data.filter(d => d.state === selectedState);

        // Update the chart with filtered data
        updateChart(filteredData);
    }

    // Initial chart setup
    updateLineChart();

    // Function to update the chart based on the provided data
    function updateChart(data) {
        // Extract unique years
        const years = [...new Set(data.map(d => d.year))];

        // Set up dimensions and margins
        const margin = { top: 20, right: 190, bottom: 30, left: 50 };
        const width = 600 - margin.left - margin.right;
        const height = 400 - margin.top - margin.bottom;

        // Create SVG container
        const svg = d3.select("#section-7-line-chart")
            .html("")  // Clear previous content
            .append("svg")
            .attr("width", width + margin.left + margin.right)
            .attr("height", height + margin.top + margin.bottom)
            .append("g")
            .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

        // Create scales
        const xScale = d3.scaleBand()
            .domain(years)
            .range([0, width])
            .padding(0.1);

        const yScale = d3.scaleLinear()
            .domain([0, d3.max(data, d => Math.max(+d.population, +d.food_beverage, +d.housing_utilities))])
            .range([height, 0]);

        // Create line functions
        const populationLine = d3.line()
            .x(d => xScale(d.year) + xScale.bandwidth() / 2)
            .y(d => yScale(+d.population));

        const foodLine = d3.line()
            .x(d => xScale(d.year) + xScale.bandwidth() / 2)
            .y(d => yScale(+d.food_beverage));

        const housingLine = d3.line()
            .x(d => xScale(d.year) + xScale.bandwidth() / 2)
            .y(d => yScale(+d.housing_utilities));

        // Draw lines
        svg.append("path")
            .data([data])
            .attr("d", populationLine)
            .attr("fill", "none")
            .attr("stroke", "blue")
            .attr("stroke-width", 2);

        svg.append("path")
            .data([data])
            .attr("d", foodLine)
            .attr("fill", "none")
            .attr("stroke", "green")
            .attr("stroke-width", 2);

        svg.append("path")
            .data([data])
            .attr("d", housingLine)
            .attr("fill", "none")
            .attr("stroke", "red")
            .attr("stroke-width", 2);

        // Add axes
        svg.append("g")
            .attr("transform", "translate(0," + height + ")")
            .call(d3.axisBottom(xScale));

        svg.append("g")
            .call(d3.axisLeft(yScale));

        // Add labels
        svg.append("text")
            .attr("text-anchor", "end")
            .attr("x", width)
            .attr("y", height + margin.top + 20)
            .text("Year");

        svg.append("text")
            .attr("text-anchor", "end")
            .attr("transform", "rotate(-90)")
            .attr("y", -margin.left + 20)
            .attr("x", -margin.top)
            .text("Values");

        // Add legend
        svg.append("text")
            .attr("x", width - 30)
            .attr("y", 10)
            .text("Population")
            .attr("fill", "blue");

        svg.append("text")
            .attr("x", width - 30)
            .attr("y", 30)
            .text("Food & Beverage")
            .attr("fill", "green");

        svg.append("text")
            .attr("x", width - 30)
            .attr("y", 50)
            .text("Housing Utilities")
            .attr("fill", "red");
    }

    // Expose the updateLineChart function to the global scope
    window.updateLineChart = updateLineChart;
});
	</script>

	<script type="text/javascript" src="../jquery.pagepiling.min.js"></script>
	<script type="text/javascript">
		$(document).ready(function() {

			/*
			* Plugin intialization
			*/
	    	$('#pagepiling').pagepiling({
	    		menu: '#menu',
	    		anchors: ['page1', 'page2', 'page3', 'page4', 'page5', 'page6', 'page7'],
			    sectionsColor: ['white', 'white', 'white', '#39C', 'white', 'white', 'white'],
			    navigation: {
			    	'position': 'right',
			   		'tooltips': ['Page 1', 'Page 2', 'Page 3', 'Page 4', 'Page 5', 'Page 6', 'Page 7']
			   	},
			    afterRender: function(){
			    	$('#pp-nav').addClass('custom');
			    },
			    afterLoad: function(anchorLink, index){
			    	if(index>1){
			    		$('#pp-nav').removeClass('custom');
			    	}else{
			    		$('#pp-nav').addClass('custom');
			    	}
			    }
			});


			/*
		    * Internal use of the demo website
		    */
		    $('#showExamples').click(function(e){
				e.stopPropagation();
				e.preventDefault();
				$('#examplesList').toggle();
			});

			$('html').click(function(){
				$('#examplesList').hide();
			});
	    });
    </script>
	
	
	
    
</head>
<body>
	<ul id="menu">
		<li data-menuanchor="page1" class="active"><a href="#page1">Page 1</a></li>
		<li data-menuanchor="page2"><a href="#page2">Page 2</a></li>
		<li data-menuanchor="page3"><a href="#page3">Page 3</a></li>
		<li data-menuanchor="page4"><a href="#page4">Page 4</a></li>
		<li data-menuanchor="page5"><a href="#page5">Page 5</a></li>
		<li data-menuanchor="page6"><a href="#page6">Page 6</a></li>
		<li data-menuanchor="page7"><a href="#page7">Page 7</a></li>
	</ul>


	<div id="pagepiling">
	    <div class="section" id="section1">
            <div id="background-image-section-1"></div>
	    	<h1>Gentrification in Malaysia - visualized</h1>
			<p>In the bustling landscape of Malaysia, the forces of urban development are reshaping neighborhoods, altering the socioeconomic fabric, and leaving an indelible mark on the nation's cities.</p>
			<!-- <img src="imgs/GettyImages_466729918.0.gif" alt="pagePiling" /> -->
			<br><br />
			
	    </div>


	    <!-- <div class="section" id="section2">
	    	<div class="intro">
	    		<div id="colors"></div>
	    		<h1>jQuery plugin</h1>
	    		<p>Pile your sections one over another and access them scrolling or by URL!</p>
	    		<div id="markup">
	    			<script src="https://gist.github.com/alvarotrigo/4a87a4b8757d87df8a72.js"></script>
	    		</div>
	    	</div>
	    </div> -->

        <div class="section" id="section2">
	    	<div class="intro">
	    		<!--  -->
				<div id="background-image-section-2"></div>
					<table>
						<tbody>
						
						<tr>
						<td>&nbsp;
							<h1>Selangor is the state with the highest GDP.</h1>
							<p>And it is growing disproportionately compared to other states.</p>
						</td>
						<td>
							<div id="first_graph">
							<div id="containerGDP"></div>
						<input id="gdp_slider" type="range" min="2015" max="2022" step="1" value="2015">
						<div><p id="gdpyear">2015</p></div>
					
						</td>
						</tr>
						</tbody>
					</table>
	    		
			</div>
			
	    </div>

	    <!-- <div class="section" id="section3">
	    	<div class="intro">
	    		<h1>Configurable</h1>
	    		<p>Plenty of options, methods and callbacks to use.</p>
	    		<div id="colors2"></div>
	    		<div id="colors3"></div>
	    	</div>
	    </div> -->

		<div class="section" id="section3">
	    	<div class="intro">
	    		<!--  -->
				<div id="background-image-section-3"></div>
					<table>
						<tbody>
						
						<tr>
						<td>&nbsp;
							<div id="second_graph">
								<div id="containerPopulation"></div>
								<input id="population_slider" type="range" min="2020" max="2023" step="1" value="2020">
								<p id="populationyear">2020</p>
							</div>
						</td>
						<td>
							<h1>Concurrently, its population is the densest.</h1>
							<p>While also facing staggering growth compared to other states.</p>
							
						</td>
						</tr>
						</tbody>
						</table>
					</div>
	    		
			
	    </div>

	    <div class="section" id="section4">
	    	<div class="intro">
				<div id="background-image-section-4"></div>
	    		<h1>This is the relationship of population and growth between the states.</h1>
	    		<p>Can you deduce any pattern between population and GDP of each state?</p>
	    		<p>Which state has the highest correlation between population and GDP?</p>

				<div id="barchartpopulationvsgdp"></div>

                    <input id = "gdppopulation_slider" type="range" min="2020" max="2022" step="1" value="2020"> 
                    
                    <p id="barchartpopulationvsgdpyear">2020</p>
	
				
	    	</div>
	    </div>

		<div class="section" id="section5">
	    	<div class="intro">
				
				<div id="sect-texts">
					<video autoplay loop muted id="myVideo">
						<source src="imgs/city.mp4" type="video/mp4">
						<source src="imgs/flowers.webm" type="video/webm">
					</video>
	    		<p>According to The Edge Malaysia (2019)</p>
	    		<h1>“The difference is that gentrification indicates a change in the neighbourhood. Properties would become too expensive and rents too high as new developments come in, which would force the population to move elsewhere.”</h1>
			</div>
	    		
	    	</div>
	    </div>

		<div class="section" id="section6">
	    	<div class="intro">
				<div id="background-image-section-6"></div>
				
	    		<h1>Relating CPI and GDP by state</h1>
				<table>
					<tbody>
					
					<tr>
					<td>&nbsp;
						<div>
							<div id="section-6-stacked-chart"></div>
		
							<p>When Consumar Price Index like Food and Beverage prices and housing prices are compared against states, we found that they are mostly consistent.</p>
						</div>
					</td>
					<td>
						<div>
							<div id="section-6-line-chart"></div>
							<label for="stateSelector">Select State:</label>
								<select id="stateSelector" onchange="updateLineChart()">
									<option value="Johor">Johor</option>
									<option value="Kedah">Kedah</option>
									<option value="Kelantan">Kelantan</option>
			
									<option value="Melaka">Melaka</option>
									<option value="Negeri Sembilan">Negeri Sembilan</option>
									<option value="Pahang">Pahang</option>
									<option value="Pulau Pinang">Pulau Pinang</option>
									<option value="Perak">Perak</option>
									<option value="Perlis">Perlis</option>
									<option value="Selangor">Selangor</option>
									<option value="Sabah">Sabah</option>
									<option value="Terengganu">Terengganu</option>
									<option value="Sarawak">Sarawak</option>
									<option value="W.P. Kuala Lumpur">W.P. Kuala Lumpur</option>
									<option value="W.P. Labuan">W.P. Labuan</option>
									
									<!-- Add other states as options -->
								</select>
							</div>
						
					</td>
					</tr>
					</tbody>
					</table>
				
				

			</div>

			
				
	    	</div>
	    </div>

		<!-- <div class="section" id="section7">
	    	<div class="intro">
	    		<h1>Compatible</h1>
	    		<p>Designed to work on tablet and mobile devices.</p>
	    		<p>Oh! And its compatible with old browsers such as IE 8 or Opera 12!</p>
	    	</div>
	    </div> -->

		<div class="section" id="section7">
	    	<div class="intro">
				<div id="background-image-section-7"></div>
				
	    		<h1>Relating CPI and Population by state</h1>
				<table>
					<tbody>
					
					<tr>
					<td>&nbsp;
						<div>
							<div id="section-7-stacked-chart"></div>
		
							<p>When Consumar Price Index like Food and Beverage prices and housing prices are compared against states, we found that they are mostly consistent.</p>
						</div>
					</td>
					<td>
						<div>
							<div id="section-7-line-chart"></div>
							<label for="stateSelectorPopulation">Select State:</label>
								<select id="stateSelectorPopulation" onchange="updateLineChart()">
									<option value="Johor">Johor</option>
									<option value="Kedah">Kedah</option>
									<option value="Kelantan">Kelantan</option>
			
									<option value="Melaka">Melaka</option>
									<option value="Negeri Sembilan">Negeri Sembilan</option>
									<option value="Pahang">Pahang</option>
									<option value="Pulau Pinang">Pulau Pinang</option>
									<option value="Perak">Perak</option>
									<option value="Perlis">Perlis</option>
									<option value="Selangor">Selangor</option>
									<option value="Sabah">Sabah</option>
									<option value="Terengganu">Terengganu</option>
									<option value="Sarawak">Sarawak</option>
									<option value="W.P. Kuala Lumpur">W.P. Kuala Lumpur</option>
									<option value="W.P. Labuan">W.P. Labuan</option>
									
									<!-- Add other states as options -->
								</select>
							</div>
						
					</td>
					</tr>
					</tbody>
					</table>
				
				

			</div>


	</div>

</body>
</html>
